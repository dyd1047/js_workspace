<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>이퀄라이저</title>
    <style>
        #wrapper{
            width: 700px;
            height: 600px;
            border: 2px solid red;
            margin: auto;
            position: relative;
        }
    </style>
    <script src="../js/lib.js"></script>
    <script>
        var wrapper;
        var bar;
        var a = 0.1;
        var targetH = getRandom(500); // 바의 목표 높이
        var n = 0;
        var barArray = new Array(7);
        var barColor = new Array(7);

        // 막대생성
        function createBar(){
                barColor[0] = "red";
                barColor[1] = "orange";
                barColor[2] = "yellow";
                barColor[3] = "green";
                barColor[4] = "blue";
                barColor[5] = "navy";
                barColor[6] = "purple";
            for(var i = 0; i < barArray.length; i++){
                n++;
                bar = document.createElement("div");
                bar.style.position = "absolute";
                bar.style.left = (i * 65) + "px";
                bar.style.top = 0 + "px";
                bar.style.width = 65 + "px";
                bar.style.height = 20 + "px";
                bar.style.borderRadius = "4px";
                bar.style.backgroundColor = barColor[i];

                wrapper.appendChild(bar); // wrapper에 추가
                barArray[i] = bar;



            }
        }

        // 막대크기 변경 함수
        function move(){
            bar.style.height = parseFloat(bar.style.height) + a * (targetH - parseFloat(bar.style.height)) + "px";
            bar.innerText = parseFloat(bar.style.height);
        }

        function init(){
            wrapper = document.getElementById("wrapper");
            createBar();
            setInterval("move()", 10);
        }

        window.addEventListener("load", function(){
            init();
        });
    </script>
</head>
<body>
    <div id="wrapper"></div>
</body>
</html>